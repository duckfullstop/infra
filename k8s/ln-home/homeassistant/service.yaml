apiVersion: v1
kind: Service
metadata:
  name: home-assistant
spec:
  ports:
  - name: http
    port: 8123
    targetPort: http
  selector:
    app: home-assistant
---
apiVersion: v1
kind: Service
metadata:
  name: home-assistant-hap
spec:
  type: NodePort
  ipFamilyPolicy: PreferDualStack
  externalTrafficPolicy: Local
  selector:
     app: home-assistant
  ports:
  - name: hap0
    protocol: TCP
    nodePort: 51828
    port: 51828
    targetPort: hap0
  - name: hap1
    protocol: TCP
    nodePort: 21065
    port: 21065
    targetPort: hap1
  - name: hap2
    protocol: TCP
    nodePort: 21066
    port: 21066
    targetPort: hap2
  - name: hap3
    protocol: TCP
    nodePort: 21067
    port: 21067
    targetPort: hap3
  - name: hap4
    protocol: TCP
    nodePort: 21068
    port: 21068
    targetPort: hap4
  - name: hap5
    protocol: TCP
    nodePort: 21069
    port: 21069
    targetPort: hap5
  - name: hap6
    protocol: TCP
    nodePort: 21070
    port: 21070
    targetPort: hap6
